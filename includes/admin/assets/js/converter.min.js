/*! This file is automatically generated. */

jQuery(document).ready(function(e){"use strict";function r(){BBP_Converter.running||(C.addClass("started"),p.hide(),P.show(),u(BBP_Converter.started?BBP_Converter.strings.start_continue:BBP_Converter.strings.start_start),c()),BBP_Converter.started=!0}function t(){v(BBP_Converter.strings.button_continue,BBP_Converter.strings.import_stopped_user)}function n(){v(BBP_Converter.strings.button_start,BBP_Converter.strings.import_error_db)}function o(){v(BBP_Converter.strings.button_continue,BBP_Converter.strings.import_error_halt)}function i(){v(BBP_Converter.strings.button_start,BBP_Converter.strings.import_comelete),BBP_Converter.started=!1}function _(e){u(e),e===BBP_Converter.strings.import_complete?i():BBP_Converter.running?c():BBP_Converter.halt&&o()}function s(){var r={};return e.each(l.serializeArray(),function(e,t){r[t.name]=t.value}),r._bbp_converter_restart&&b.removeAttr("checked"),r._bbp_converter_delay_time&&(BBP_Converter.delay=1e3*r._bbp_converter_delay_time),r.action="bbp_converter_process",r._ajax_nonce=BBP_Converter.ajax_nonce,r}function B(){BBP_Converter.running&&(m=s(),e.post(ajaxurl,m,function(e){"bbp_converter_db_connection_failed"!==e?_(e.substring(0,e.length-1)):n()}))}function c(){a(),clearTimeout(BBP_Converter.running),BBP_Converter.running=setTimeout(function(){B()},BBP_Converter.delay)}function v(e,r){p.val(e).show(),P.hide(),g.text(BBP_Converter.strings.timer_stopped),r&&u(r),clearTimeout(BBP_Converter.running),BBP_Converter.running=!1}function a(){var e=BBP_Converter.delay/1e3;g.text(BBP_Converter.strings.timer_counting.replace("%s",e)),clearInterval(BBP_Converter.timer),BBP_Converter.timer=setInterval(function(){e--,g.text(BBP_Converter.strings.timer_counting.replace("%s",e)),e<=0&&(clearInterval(BBP_Converter.timer),g.text(BBP_Converter.strings.timer_waiting))},1e3)}function u(e){"<div"!==e.substring(0,3)&&(e="<p>"+e+"</p>"),C.prepend(e)}var C=e("#bbp-converter-message"),P=e("#bbp-converter-stop"),p=e("#bbp-converter-start"),b=e("#_bbp_converter_restart"),g=e("#bbp-converter-timer"),l=e("#bbp-converter-settings"),m=s();p.on("click",function(e){r(),e.preventDefault()}),e(P).on("click",function(e){t(),e.preventDefault()})});